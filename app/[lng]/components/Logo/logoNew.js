"use client";

import "../../globals.css";
import Script from "next/script";

export default function NewLogo() {

  return (
    <>
      <div className="absolute top-[-100px] left-[-165px] md:top-[-70px] md:left-[-150px] z-40 p-10">
        {/* NEW SVG */}
        <svg
          width="120"
          height="50"
          viewBox="-85 -40 120 50"
          style={{ fill: "LightCyan", scale: "3" }}
          filter="url(#shadow)">
          <defs>
            <filter id="shadow">
              <feDropShadow dx="0" dy="0" stdDeviation="3"
                floodColor="LightCyan" />
            </filter>
          </defs>
          <g
            id="oeil"
            className="oeil"
            transform="translate(-29.998931,-40.006555)">
            <path
       d="m 43.20315,40.310537 -9.423303,3.661482 v 1.13654 l 9.423737,3.670746 0.0011,-0.909771 -8.96879,-3.300716 8.967301,-3.665528 z"
       id="in" />
            <g id="iris" className="iris" >
              <path
                id="C"
                d="m 45.155383,40.006577 c -1.459337,0 -2.627233,0.41161 -3.503662,1.235067 -0.87643,0.823457 -1.314648,1.909319 -1.314648,3.257165 0,0.893104 0.188104,1.685788 0.564306,2.37815 0.376205,0.692358 0.888835,1.218714 1.537891,1.579231 0.649053,0.36052 1.422138,0.541053 2.319238,0.541053 0.175231,0 0.346808,-0.0075 0.514697,-0.02119 -0.0037,-0.03257 -0.01645,-0.148911 -0.01809,-0.238228 -0.0016,-0.08424 -0.0067,-0.226815 -0.0083,-0.270268 -0.01409,1.42e-4 -0.02769,10e-4 -0.04186,10e-4 -0.690394,0 -1.304313,-0.170012 -1.841748,-0.510047 -0.537432,-0.34413 -0.967385,-0.858376 -1.289843,-1.542541 -0.318327,-0.688262 -0.477491,-1.495163 -0.477491,-2.421041 0,-0.696456 0.136426,-1.309125 0.409278,-1.837614 0.272848,-0.532582 0.649059,-0.936292 1.128613,-1.210779 0.479557,-0.274483 1.050068,-0.411344 1.711523,-0.411344 0.138096,0 0.271544,0.0073 0.40256,0.0186 l -0.0021,-0.0015 c 0,0 0.0075,-0.204068 0.0093,-0.30179 0.0017,-0.09312 0.01562,-0.216061 0.0186,-0.241846 -0.0395,-5.99e-4 -0.07835,-0.0021 -0.118339,-0.0021 z" />
              <path
                id="D"
                d="m 45.153833,40.006577 c -0.198234,0 -0.389286,0.0083 -0.574642,0.02274 0.0078,0.05578 0.02407,0.174328 0.02997,0.244946 0.0081,0.0972 0.01031,0.23216 0.01085,0.26665 1.6e-4,0.0036 3.58e-4,0.0072 5.17e-4,0.01085 4e-6,3.36e-4 0,0.0036 0,0.0036 0.05933,1.359038 0.09043,2.613247 0.09043,3.751192 0,0.979296 -0.03102,2.358177 -0.08992,4.096391 -2.15e-4,0.0063 -3.01e-4,0.0107 -5.17e-4,0.01705 -5.72e-4,0.04012 -0.0028,0.188539 -0.01085,0.295589 -0.0061,0.08174 -0.02313,0.218703 -0.03049,0.276986 0.0589,0.0021 0.117788,0.0047 0.177767,0.0047 1.434531,0 2.623098,-0.458976 3.565674,-1.37666 0.942575,-0.917687 1.413867,-2.058814 1.413867,-3.423047 0,-1.265913 -0.407213,-2.27967 -1.221631,-3.041675 -0.810284,-0.766102 -1.930638,-1.149284 -3.361035,-1.149284 z m 0.09043,0.547253 c 0.556303,0.04787 1.049715,0.195763 1.478462,0.448035 0.529167,0.311358 0.944645,0.776645 1.246436,1.395264 0.305921,0.614519 0.458887,1.356148 0.458887,2.22467 0,0.827554 -0.138494,1.530231 -0.415479,2.107882 -0.272851,0.577648 -0.649059,1.01189 -1.128613,1.302763 -0.468695,0.284283 -1.014924,0.428676 -1.637626,0.435115 -0.0379,-1.424267 -0.05788,-2.816751 -0.05788,-4.174422 0,-1.498342 0.01936,-2.735558 0.05581,-3.739307 z" />
            </g>
            <path
       d="m 11.95875,3.425513 q 0.469676,0 0.802363,0.332687 0.332687,0.332687 0.332687,0.8121477 0,0.4696757 -0.332687,0.8121476 -0.332687,0.332687 -0.802363,0.332687 -0.479461,0 -0.812148,-0.332687 -0.332687,-0.3424719 -0.332687,-0.8121476 0,-0.4794607 0.332687,-0.8121477 0.332687,-0.332687 0.812148,-0.332687 z"
       id="point"
       transform="matrix(0.93752969,0,0,1,33.779847,40.006555)" />
            <path
       d="m 46.34973,40.114212 0.92891,0.242691 8.883534,3.500371 v 1.163246 l -9.810802,3.756994 -0.0011,-0.48677 9.33717,-3.822647 -9.335621,-3.751653 z"
       id="out" />
          </g>
        </svg>
      </div>
      {/* Script to animate Logo with GSAP */}
      <Script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
        onLoad={() => {
          //Set all g to visible
          gsap.set('.oeil', {
            x: -35,
          });
          gsap.set('g', {
            autoAlpha: 1,
          });
          //Set initial position 0 for all
          gsap.set('#in', {
            autoAlpha: 0,
            x: -25,
          });
          gsap.set('#C', {
            autoAlpha: 1,
            x: -2,
          });
          gsap.set('#D', {
            autoAlpha: 1,
            x: 2,
          });
          gsap.set('#point', {
            autoAlpha: 1,
            y: 44.5,
            scale: 0.7,
          });
          gsap.set('#out', {
            autoAlpha: 0,
            x: 25,
          });
          // create 3 different time lines
          //Animate C & D
          function intro() {
            var tl = gsap.timeline();
            tl.to('#point', {
              duration: 0.5,
              y: 40,
              scale: 1,
            })
            .to(['#C', '#D'], {
              autoAlpha: 1,
              duration: 1,
              ease: "bounce",
              x: 0,
            })
            
            return tl;
          }
          //Animate in & out
          function middle() {
            var tl = gsap.timeline();
            tl.fromTo(['#in', '#out'], {
              autoAlpha: 0,
            }, {
              autoAlpha: 1,
              duration: 1.5,
              x: 0,
            })
            return tl;
          }
          //Animate iris
          function conclusion() {
            var tl = gsap.timeline();
            tl.to(".iris", { rotation: 720, transformOrigin: "center", duration: 1 });
            return tl;
          }
          // stitch them together in a master timeline
          var master = gsap.timeline({ duration: 3 });
          master
            .add(intro())
            .add(middle(), "+=1") //with a gap of 2 seconds
            .add(conclusion(), "+=0.5") //with a gap of 1 seconds
            .repeat(-1).repeatDelay(10).yoyo(true).play();
        }}
      />
    </>
  );
}
